services:
  imgify-bot:
    build: .
    container_name: imgify-bot
    restart: unless-stopped
    environment:
      - DISCORD_TOKEN=${DISCORD_TOKEN}
    volumes:
      # tempディレクトリをマウント（オプション）
      - ./temp:/app/temp
    # メモリ制限（オプション：画像変換は大量のメモリを使用する可能性があります）
    mem_limit: 2g
    # ログの設定
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
